<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Entre Mundos - Dia 1</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="assets/icon-192.png">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <section id="dia1" role="main" aria-label="Dia 1 - Reconex√£o">
    <div class="conteudo">
      <h1>Dia 1 ‚Äî Reconex√£o</h1>
      <p>Respira fundo, fecha os olhos e sente o regresso a ti mesmo.</p>
      <button id="respirar">Guiar respira√ß√£o 5x</button>
      <p id="contador" aria-live="polite"></p>
    </div>
  </section>

  <script>
    // Respira√ß√£o simples 5x (4-4-4-4)
    const btn = document.getElementById('respirar');
    const contador = document.getElementById('contador');
    let ativo = false;
    btn.addEventListener('click', async () => {
      if (ativo) return;
      ativo = true;
      btn.disabled = true;
      for (let i=1; i<=5; i++) {
        contador.textContent = `Inspira (${i}/5)`;
        await new Promise(r => setTimeout(r, 4000));
        contador.textContent = `Segura (${i}/5)`;
        await new Promise(r => setTimeout(r, 4000));
        contador.textContent = `Expira (${i}/5)`;
        await new Promise(r => setTimeout(r, 4000));
        contador.textContent = `Pausa (${i}/5)`;
        await new Promise(r => setTimeout(r, 4000));
      }
      contador.textContent = "Feito. Obrigado por voltares a ti üíô";
      btn.disabled = false;
      ativo = false;
    });

    // Registo do service worker (PWA)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js');
      });
    }
  </script>
</body>
</html>
